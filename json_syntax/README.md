# 使用说明

## JSON简介

JSON是一种轻量级的数据交换格式，其包括键值对、对象与数组，字面量包括数字、字符串、布尔值与NULL，对象和数组可以互相嵌套。

## 文件结构

### \_json\_

#### jsonw.flex

json词法源程序。

#### jsonl.cpp

json语法源程序。

#### json_in

该文件夹包含测试样例文本，文本的后缀名应为“.json”。

#### json_parse

##### json_words.out

通过词法程序，识别json源文件得出来的词法单元文件。
词法单元文件格式规定如下：
 1.“$”左边是终结符名字。
 2.“$”右边是终结符所对应的值。
 3.“$”与左右两部分间均没有空格。

##### json_gram.in

json文法的输入文件。
输入的文法格式规定如下：

 1. “@”符号跟起始符号。
 2. “:=”为产生式的赋值符号。
 该符号与左部间没有空格，与右部要隔一个空格。
 3. 右部的符号间没有空格。
 4. 产生式左部的非终结符不需要加上大括号“{}”。
 5. 位于右部的非终结符需要加上大括号“{}”。
 6. 位于右部的终结符要加上中括号“[]”。
 7. “$”符号表示空。
 8. “#”符号表示结尾。

##### parse_res.txt & parse_res.md & parse_res.docx

经过分析后的结果输出文件，其中包括处理过后的文法，FIRST、FOLLOW与SELECT集合，LL(1)分析表，以及表驱动分析过程。
默认的输出文件格式为“.txt”，在程序里可以选则是否输出“.md”与“.docx”格式的文件。其中“.md”为markdown文件。
若要转化为“.md”与“.docx”格式的文件，需要安装pandoc。

## 运行方法

注意，要先安装windows版的flex工具与pandoc工具。
点击deal2.bat，然后会提示要输入一个位于json_in文件夹下包含json代码的源文件名。
若想分析自定义的语法而非json语法，可无视这一步。
然后，系统会提示你是否开展json的分析工作，若想分析自定义的语法，输入0；否则，输入1。

- 若你输入0，系统还会让你输入两个文件名称，其都应位于json_parse文件夹下。
 其中第一个文件是自定义的词法单元输入文件，第二个文件是自定义的语法输入文件。
- 若你输入1，则开展json语法的分析工作。
分析完后，系统会提示是否输出“.md”与“.docx”格式的结果文件，输入1为是；输入0为否。
分析后的结果会出现在json_parse文件夹下的“parse_res.txt”，“parse_res.md”或“parse_res.docx”文件里。
